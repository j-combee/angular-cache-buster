angular.module("ngCacheBuster",[]).config(["$httpProvider",function(t){return t.interceptors.push("httpRequestInterceptorCacheBuster")}]).provider("httpRequestInterceptorCacheBuster",function(){this.matchlist=[/.*partials.*/,/.*views.*/],this.logRequests=!1,this.black=!1,this.key=!1,this.setMatchlist=function(t,e){this.black="undefined"!=typeof e?e:!1,this.matchlist=t},this.setCustomKey=function(t){this.black="undefined"!=typeof black?black:!1,this.matchlist=list},this.setLogRequests=function(t){this.logRequests=t},this.$get=["$q","$log",function(t,e){var s=this.matchlist,i=this.logRequests,r=this.black;return i&&e.log("Blacklist? ",r),{request:function(u){for(var h=!r,l=0;l<s.length;l++)if(u.url.match(s[l])){h=r;break}if(h){var n;if(this.key)n=this.key;else{var c=new Date;n=c.getTime()}u.url=u.url.replace(/[?|&]cacheBuster=\d+/,""),u.url+=-1===u.url.indexOf("?")?"?":"&",u.url+="cacheBuster="+n}if(i){var a="request.url ="+u.url;h?e.warn(a):e.info(a)}return u||t.when(u)}}}]});